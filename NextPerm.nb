(* A function to find the next lexicographically greater permutation *)
nextPermutation[list_] := Module[{n = Length[list], i, j, temp},
  i = n - 1;
  While[i >= 1 && list[[i]] >= list[[i + 1]], i--];
  If[i == 0, Return[Reverse[list]]];
  j = n;
  While[list[[j]] <= list[[i]], j--];
  temp = list[[i]];
  list[[i]] = list[[j]];
  list[[j]] = temp;
  Join[Take[list, i], Reverse[Take[list, {i + 1, n}]]]
]

(* A function to find the next permutation of a number *)
nextPermutationInteger[n_] := Module[{digitList, nextPermutationList},
  digitList = IntegerDigits[n];
  nextPermutationList = nextPermutation[digitList];
  FromDigits[nextPermutationList]
]

(* Testing functions *)
testNextPermutation[] := Module[{},
  Print["Testing nextPermutation"];
  Print[nextPermutation[{1, 2, 3}]]; (* should print {1, 3, 2} *)
  Print[nextPermutation[{1, 3, 2}]]; (* should print {2, 1, 3} *)
  Print[nextPermutation[{3, 2, 1}]]; (* should print {1, 2, 3} *)
]

testNextPermutationInteger[] := Module[{},
  Print["Testing nextPermutationInteger"];
  Print[nextPermutationInteger[123]]; (* should print 132 *)
  Print[nextPermutationInteger[132]]; (* should print 213 *)
  Print[nextPermutationInteger[321]]; (* should print 123 *)
]

(* Call the testing functions *)
testNextPermutation[]
testNextPermutationInteger[]
